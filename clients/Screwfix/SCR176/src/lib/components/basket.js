import { formatGBP } from '../helpers/utils';

export const basket = (id, items, priceInformation) => {
  const totalQuantity = items.reduce((sum, item) => sum + item.quantity, 0);
  const html = `
        <a href="/jsp/trolley/trolleyPage.jsp"
            class="kND5MA ueTl_4 ${id}__basketLink"
            title="Â£73.99">
                <div class="rnUeLb"><svg viewBox="0 0 30 26"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        class="MOORRJ"
                        aria-hidden="true"
                        focusable="false">
                        <path fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M16.106 11.069a.903.903 0 0 1-.735.105.884.884 0 0 1-.603-.42l-5.275-8.45a.986.986 0 0 1-.131-.735.884.884 0 0 1 .42-.603.986.986 0 0 1 .735-.132c.262.07.463.22.603.447l5.301 8.45c.14.227.184.472.131.734a.98.98 0 0 1-.446.604Zm12.78-1.68H17.103c.228.403.289.814.184 1.234-.105.437-.359.805-.761 1.102-.315.175-.621.263-.918.263-.315 0-.604-.08-.867-.237a1.669 1.669 0 0 1-.63-.577L13.01 9.389H1.91a.98.98 0 0 0-.682.263.963.963 0 0 0-.289.708v3.333c0 .28.096.508.289.683.192.192.42.288.682.288h1.312v2.493h.026l1.916 7.584c.157.42.306.709.446.866.175.193.411.289.709.289h18.186c.297 0 .533-.096.708-.289.123-.14.271-.428.446-.866l1.916-7.584h.026v-2.493h1.286c.28 0 .516-.096.709-.288.175-.175.262-.403.262-.683V10.36c0-.28-.087-.516-.262-.708a1.015 1.015 0 0 0-.709-.263ZM11.881 22.04a.98.98 0 0 1-.262.682.963.963 0 0 1-.709.288h-.079a.879.879 0 0 1-.682-.288.933.933 0 0 1-.289-.683v-6.14c0-.263.097-.49.29-.683a.879.879 0 0 1 .681-.288h.08c.279 0 .515.096.708.288a.98.98 0 0 1 .262.683v6.14Zm4.54 0a.98.98 0 0 1-.262.682.963.963 0 0 1-.709.288h-.079a.879.879 0 0 1-.682-.288.933.933 0 0 1-.289-.683v-6.14c0-.263.096-.49.289-.683a.879.879 0 0 1 .682-.288h.079c.28 0 .516.096.709.288a.98.98 0 0 1 .262.683v6.14Zm4.54 0a.93.93 0 0 1-.289.682.933.933 0 0 1-.682.288h-.079a.88.88 0 0 1-.682-.288.933.933 0 0 1-.289-.683v-6.14c0-.263.096-.49.289-.683a.88.88 0 0 1 .682-.288h.079c.262 0 .49.096.682.288.193.193.289.42.289.683v6.14Z"
                            fill="#0053A0"></path>
                    </svg><span data-qaid="miniBasket-quantity"
                        class="td62tI">${totalQuantity}</span></div><span data-qaid="miniBasket-total-sum"
                    class="_9y_h_7 sf7ot8">${formatGBP(priceInformation.subTotalIncVat)}</span>
            </a>
    `;
  return html.trim();
};

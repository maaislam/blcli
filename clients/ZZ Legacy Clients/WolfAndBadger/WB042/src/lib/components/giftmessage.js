const renderGiftMessage = (id) => {
  document.querySelectorAll(`.${id}__PDP-giftmessage--text`).forEach((elm) => {
    elm?.closest(`.${id}__PDP-giftmessage`).remove();
  });
  const newWrapper = document.createElement('div');
  newWrapper.classList.add(`${id}__PDP-giftmessage`, 'flex', 'items-center', 'mb-3');
  const htmlStr = `
    
        <div class="${id}__PDP-giftmessage--icon">
            <svg xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                viewBox="0 0 60 60"
                fill="none">
                <g clip-path="url(#clip0_92_20)">
                    <path d="M41.77 26.2711C41.8 26.1376 41.7632 25.9977 41.6711 25.8963L40.1881 24.2642C40.8691 24.0683 42.6663 22.8348 43.0907 22.4492C44.5432 21.1294 44.7759 18.5862 43.456 17.1335C42.136 15.6809 39.7557 15.8605 38.3032 17.1803C37.8418 17.5996 36.2799 19.1007 36.043 19.7023L34.4687 17.9697C34.3744 17.8659 34.2342 17.8159 34.0953 17.8368L29.1022 18.587C29.0203 18.5994 28.9436 18.6358 28.8823 18.6915L11.7265 34.2797C11.5547 34.4358 11.5422 34.7013 11.6981 34.873L22.7639 47.0515C22.9199 47.2232 23.1854 47.2361 23.3572 47.0799L40.513 31.4917C40.5767 31.4338 40.6211 31.3577 40.6403 31.2732L41.77 26.2711ZM38.8681 17.802C39.9779 16.7936 41.8259 16.5886 42.8343 17.6984C43.8427 18.8083 43.6356 20.8191 42.5258 21.8275C42.1196 22.1966 40.3004 23.4075 39.5506 23.5626L36.6832 20.4068C36.8824 19.7613 38.4132 18.2153 38.8681 17.802ZM23.1032 46.1758L12.6023 34.6189L29.3531 19.3987L33.9981 18.7008L35.7532 20.6324C35.5278 21.5666 35.4713 22.501 35.4667 23.1548C34.634 22.7709 33.6153 22.8946 32.8952 23.5489C31.9347 24.4216 31.8632 25.9134 32.736 26.874C33.6089 27.8346 35.1006 27.9059 36.0611 27.0332C36.9821 26.1963 37.0833 24.7915 36.3206 23.8304C36.303 23.4923 36.273 22.4821 36.4512 21.4006L40.9024 26.2994L39.85 30.9591L23.1032 46.1758ZM35.4962 26.4115C34.8785 26.9728 33.919 26.9269 33.3577 26.3091C32.7964 25.6914 32.8423 24.7319 33.4601 24.1706C34.0778 23.6093 35.0373 23.6552 35.5986 24.273C36.1599 24.8907 36.114 25.8502 35.4962 26.4115Z"
                        fill="#8F714D" />
                    <path d="M32.941 32.973L32.5679 31.3133C32.5356 31.1692 32.4299 31.0522 32.2895 31.0063L30.898 30.5496L30.5762 29.1207C30.5439 28.9772 30.4383 28.8604 30.2976 28.8141L28.9058 28.357L28.582 26.926C28.5497 26.7819 28.4441 26.6656 28.3037 26.6197L26.6842 26.0865C26.4638 26.0141 26.2267 26.1337 26.1541 26.3539C26.105 26.503 26.1438 26.6597 26.2423 26.7681C26.2895 26.82 26.3502 26.8607 26.4216 26.8843L27.8151 27.3433L28.139 28.7744C28.1713 28.9185 28.2771 29.0349 28.4174 29.0808L29.8091 29.5379L30.131 30.9667C30.1633 31.1108 30.2692 31.2274 30.4096 31.2733L31.8009 31.7299L32.1218 33.1571C32.1722 33.384 32.3969 33.5258 32.6234 33.4749C32.8497 33.4239 32.992 33.1993 32.941 32.973Z"
                        fill="#8F714D" />
                    <path d="M30.648 35.056L30.2749 33.3964C30.2426 33.2523 30.1369 33.1353 29.9965 33.0893L28.6051 32.6326L28.2832 31.2038C28.2509 31.0602 28.1453 30.9434 28.0047 30.8972L26.6128 30.44L26.289 29.009C26.2567 28.8649 26.1511 28.7486 26.0107 28.7027L24.3912 28.1695C24.1708 28.0971 23.9337 28.2167 23.8612 28.4369C23.8121 28.586 23.8509 28.7428 23.9493 28.8511C23.9965 28.903 24.0573 28.9437 24.1286 28.9673L25.5221 29.4263L25.846 30.8574C25.8783 31.0015 25.9841 31.1179 26.1245 31.1639L27.5162 31.6209L27.838 33.0497C27.8703 33.1938 27.9762 33.3104 28.1166 33.3563L29.5079 33.8129L29.8288 35.2401C29.8792 35.467 30.104 35.6088 30.3304 35.558C30.5567 35.507 30.699 35.2823 30.648 35.056Z"
                        fill="#8F714D" />
                    <path d="M28.356 37.1391L27.9829 35.4794C27.9506 35.3353 27.8449 35.2183 27.7045 35.1724L26.3131 34.7157L25.9912 33.2868C25.9592 33.143 25.8533 33.0264 25.7127 32.9802L24.3208 32.523L23.997 31.092C23.9647 30.9479 23.8591 30.8317 23.7187 30.7857L22.0992 30.2525C21.8788 30.1801 21.6417 30.2997 21.5692 30.5199C21.5201 30.669 21.5589 30.8258 21.6574 30.9342C21.7045 30.9861 21.7653 31.0267 21.8366 31.0503L23.2301 31.5093L23.554 32.9404C23.5863 33.0845 23.6921 33.201 23.8325 33.2469L25.2242 33.7039L25.546 35.1328C25.5783 35.2769 25.6843 35.3934 25.8246 35.4394L27.2159 35.8959L27.5368 37.3231C27.5872 37.55 27.812 37.6918 28.0384 37.641C28.2647 37.59 28.407 37.3654 28.356 37.1391Z"
                        fill="#8F714D" />
                    <path d="M26.063 39.2221L25.69 37.5624C25.6577 37.4183 25.5519 37.3013 25.4116 37.2554L24.0201 36.7987L23.6983 35.3698C23.6659 35.2263 23.5603 35.1094 23.4197 35.0632L22.0278 34.606L21.7041 33.1751C21.6718 33.031 21.5661 32.9147 21.4258 32.8688L19.8063 32.3355C19.5859 32.2631 19.3487 32.3827 19.2762 32.603C19.2271 32.752 19.2659 32.9088 19.3644 33.0172C19.4116 33.0691 19.4723 33.1097 19.5436 33.1333L20.9372 33.5923L21.2611 35.0235C21.2934 35.1676 21.3991 35.284 21.5395 35.3299L22.9312 35.7869L23.2531 37.2158C23.2854 37.3599 23.3913 37.4765 23.5316 37.5224L24.9229 37.9789L25.2438 39.4061C25.2943 39.633 25.519 39.7749 25.7455 39.724C25.9718 39.673 26.1141 39.4484 26.063 39.2221Z"
                        fill="#8F714D" />
                </g>
                <defs>
                    <clipPath id="clip0_92_20">
                        <rect width="42"
                            height="42"
                            fill="white"
                            transform="translate(31.085) rotate(47.7408)" />
                    </clipPath>
                </defs>
            </svg>
        </div>
        <div class="${id}__PDP-giftmessage--text">Buying a gift? Add a personalised gift message at checkout.</div>
    `;
  newWrapper.innerHTML = htmlStr;

  (function pollForLoadVariation() {
    if (document.querySelector('[class^="ProductSummary_"]')) {
      document
        .querySelector(`[href="https://gethelp.wolfandbadger.com/"]`)
        .closest('p')
        .insertAdjacentElement('beforebegin', newWrapper);
    } else {
      setTimeout(pollForLoadVariation, 25);
    }
  })();
};

export default renderGiftMessage;

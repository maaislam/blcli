/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{var t={536:(t,e,n)=>{"use strict";n.r(e),n.d(e,{isMobile:()=>r,removeExisting:()=>o});var r="smartphone"===window.DY.deviceInfo.type,o=function(t){return document.querySelectorAll("."+t+"__slidecatalog").forEach((function(t){null==t||t.remove()}))}},213:(t,e,n)=>{var r=n(924).default;function o(){"use strict";t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(k([])));w&&w!==n&&i.call(w,c)&&(m=w);var _=y.prototype=p.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(o,a,c,u){var s=d(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=d(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function k(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=y,l(_,"constructor",y),l(y,"constructor",v),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},b(x.prototype),l(x.prototype,u,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),l(_,s,"Generator"),l(_,c,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},924:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},264:(t,e,n)=>{var r=n(213)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";function t(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function e(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function c(e){t(a,o,i,c,u,"next",e)}function u(e){t(a,o,i,c,u,"throw",e)}c(void 0)}))}}var r=n(264),o=n.n(r);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a=Date.now||function(){return(new Date).getTime()},c=function t(e,n){var r=e;return Object.keys(n).forEach((function(e){var o=n[e],a=r[e],c=a&&"object"===i(a)&&!(a instanceof Array);r[e]=c?t(a,o):o})),r},u=function(t,e,n){var r={wait:50,multiplier:1.1,timeout:0};n&&(r=c(r,n));for(var o=r,u=o.multiplier,s=o.wait,l=r.timeout?new Date(a()+r.timeout):null,f=[],d=function n(r,o,c){if(l&&l&&a()>l)return!1;var s=function(t){if(!t)return!1;var e={function:function(){return t()},string:function(){return document.querySelector(t)}}[i(t)];return!e||e()}(r);s?(f.push(s),f.length===t.length&&e(f)):setTimeout((function(){n(r,o*u)}),c?0:o)},h=0;h<t.length;h+=1){if("string"!=typeof t[h]&&"function"!=typeof t[h])throw"Every item in the poller array should be a function or a string";d(t[h],s,!0)}},s={trackerName:!1,propertyId:!1,analyticsReference:"ga",eventCache:[],sendEvents:!0,setDefaultCategory:function(t){return this.category=t,this},setDefaultAction:function(t){return this.action=t,this},setPropertyId:function(t){this.propertyId=t},setTrackerName:function(t){this.trackerName=t},useLegacyTracker:function(){this.analyticsReference="_gaq"},sendAuto:function(t,e,n){this.send(null,null,e,n,t)},sendNormalised:function(t,e){this.send(null,null,t,e)},send:function(t,e,n,r){var o=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=r||{},s=n,l=t||this.category,f=e||this.action,d=a;if(null!=d&&(0==d&&(d="Control"),s="Variation: "+d+" - "+n),"object"===i(c)&&c.sendOnce){var h=""+l+f+s;if(this.eventCache.indexOf(h)>-1)return!1;this.eventCache.push(h)}var p=this,v=function(t){if("_gaq"===p.analyticsReference)window._gaq.push(["_trackEvent",l,f,s,null,void 0===c.nonInteraction||c.nonInteraction]);else{var e={nonInteraction:!c.nonInteraction||c.nonInteraction};if(c.opts)for(var n in c.opts)e[n]=c.opts[n];window[p.analyticsReference](t+".send","event",l,f,s,e)}};p.trackerName?1==this.sendEvents&&v(p.trackerName):u([function(){try{var t=window[p.analyticsReference].getAll();if(t&&t.length){if(!p.propertyId)return p.trackerName=t[0].get("name"),!0;for(var e=0;e<t.length;e+=1){var n=t[e];if(n.get("trackingId")===p.propertyId)return p.trackerName=n.get("name"),!0}}}catch(t){console.error(t)}}],(function(){1==o.sendEvents&&v(p.trackerName)}),{wait:150})}},l=function(t,e,n){var r=n.ID,o=n.VARIATION,i=(n.CLIENT,n.LIVECODE);s.setDefaultCategory(t),s.setDefaultAction(e),s.sendEvents="true"!=i,document.documentElement.classList.add(r),document.documentElement.classList.add(r+"-"+o)},f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.ID,o=e.VARIATION,i="Test ID: "+r+" Variation: "+o+" Label: "+t;s.sendNormalised(i,{sendOnce:n})},d=n(536).isMobile;var h=n(536);const p=function(t,e){var n=e.ID,r=e.VARIATION;document.querySelector("."+n+"__slidecatalog").addEventListener("click",(function(e){var o=e.target,i=function(t){return o.matches(t)||o.closest(t)};if(i("."+n+"__slidecatalog--content")){!function(t){function e(t,e){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}}e(t,"mousedown"),e(t,"mouseup")}(document.querySelector('[data-item-id="menuBtn"]')||document.querySelector('[data-item-id="scrollshopBtn"]'));var a=document.querySelectorAll(".list_options_button")[1];null==a||a.click(),setTimeout((function(){document.getElementById("plp_sort_by_promotion").click(),h.isMobile&&setTimeout((function(){var t;null===(t=document.querySelector(".close_button"))||void 0===t||t.click()}),300)}),300),t("User clicks with the clearance brochure element",{ID:n,VARIATION:r})}else i("."+n+"__closeicon")&&((0,h.removeExisting)(n),sessionStorage.setItem(n+"__user-closed","true"),t("User closes with the clearance brochure element",{ID:n,VARIATION:r}))}))},v=function(){var t=e(o().mark((function t(){var e,n,r,i,a,c,u,s,l,f,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=window.PDP_MANAGER.API_DATA,n=e.campaign,r=e.mrktCd,i="we.avon.digital-catalogue.com",t.next=4,fetch("/check-rep-url.php?market="+r+"&rep_id=&url="+encodeURI(window.location.href));case 4:return a=t.sent,t.next=7,a.json();case 7:return c=t.sent,u=c.rep_id,t.next=11,fetch("https://api."+i+"/v2/get-user-id?rep_id="+(u||"")+"&mrktCd="+r);case 11:return s=t.sent,t.next=14,s.json();case 14:return l=t.sent,t.next=17,fetch("https://admin."+i+"/api/campaigns/"+n+"/brochures/?rep_id="+(u||"")+"&rep_slug="+(l.slug||"")+"&preventCache="+window.preventCacheId);case 17:return f=t.sent,t.next=20,f.json();case 20:return d=t.sent,console.log(d),t.abrupt("return",d);case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(t,e,n){var r=document.querySelector(""+t),o=window.location.href,i=n||{attributes:!0,childList:!0,subtree:!0};new MutationObserver((function(t){setTimeout((function(){t.forEach((function(t){var n=!1;o!==window.location.href&&(o=window.location.href,n=!0),e(t,n)}),1e3)}))})).observe(r,i)},m={ID:"AG103a",VARIATION:"1",CLIENT:"Brainlabs"};var g=m.ID,w=m.VARIATION,_=function(t){if((0,h.removeExisting)(g),"#page/1"===window.location.hash&&!document.getElementById("v7_vue_plp")&&"true"!==sessionStorage.getItem(g+"__user-closed")){var e,n=document.querySelector('[data-item-id="nextButGroup"]')||document.body,r=n&&(e=n)&&window.getComputedStyle(e,null),o=h.isMobile?{top:"50%",left:"16px"}:{top:r.getPropertyValue("top"),left:r.getPropertyValue("left")};console.log(o),n.classList.add(g+"__anchorelem"),n.insertAdjacentHTML("beforebegin",function(t,e,n){e.live_url;var r=e.small_cover,o=e.tiny_cover,i=e.infos.publication.title;return('\n    <div class="'+t+'__slidecatalog" style="top: '+n.top+";left: "+n.left+';">\n        <span class="'+t+'__closeicon"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 6 6" fill="none">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1.2486 0.370828C1.00328 0.176562 0.645872 0.192751 0.419229 0.419395C0.175151 0.663472 0.175151 1.0592 0.419229 1.30328L2.187 3.07104L0.419229 4.83881L0.370662 4.89332C0.176396 5.13865 0.192585 5.49605 0.419229 5.7227C0.663306 5.96677 1.05903 5.96677 1.30311 5.7227L3.07088 3.95493L4.83865 5.7227L4.89316 5.77126C5.13848 5.96553 5.49589 5.94934 5.72253 5.7227C5.96661 5.47862 5.96661 5.08289 5.72253 4.83881L3.95476 3.07104L5.72253 1.30328L5.7711 1.24876C5.96536 1.00344 5.94917 0.646038 5.72253 0.419395C5.47845 0.175317 5.08272 0.175317 4.83865 0.419395L3.07088 2.18716L1.30311 0.419395L1.2486 0.370828Z" fill="white"/>\n</svg></span>\n        <div class="'+t+'__slidecatalog--content">\n            <div class="'+t+'__slidecatalog--title">Shop Sale</div>\n            <div class="'+t+'__slidecatalog--img-wrapper">\n                <img src="'+(d?o:r)+'" alt="'+i+'" />\n            </div>\n        </div>\n    </div>\n  ').trim()}(g,t,o)),p(f,m)}};const b=e(o().mark((function t(){var e,n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l("Experimentation","AvonGlobal - "+g,m),"#page/1"===window.location.hash){t.next=3;break}return t.abrupt("return");case 3:if(f("Conditions Met",m),f("user views brocure with ID "+window.PDP_MANAGER.API_DATA.brochure_id,m),document.body.addEventListener("click",(function(t){t.target.closest('[data-item-id="shareContainer"]')&&f("User interacts with the social media ctas",m)})),"control"!==w){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,v();case 10:e=t.sent,n=e.filter((function(t){return"end of season sale"!==t.infos.publication.title.toLowerCase()}))[0],r="1"===w?{live_url:"https://online.shopwithmyrep.co.uk/c08_uk_2022/jckhtgruqyflsr4ghzld3yytro9yq45dygjt695z/index.html#plp",small_cover:"https://cdn-eu.dynamicyield.com/api/9877979/images/389dbc3cd340c__group_29_1.png",tiny_cover:"https://cdn-eu.dynamicyield.com/api/9877979/images/ad3eb4a5a289__group_29_3.png",infos:{publication:{title:"Clearance Sale"}}}:n,setTimeout((function(){_(r)}),2e3),y("body",(function(t,e){e&&setTimeout((function(){_(r)}),1e3)}));case 16:case"end":return t.stop()}}),t)})));/MSIE|Trident|Edge\/(12|13|14|15|16|17|18)/.test(window.navigator.userAgent)||u(["body",'[data-item-id="wishlistButton"]'],b)})()})();
(()=>{"use strict";(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=Date.now||function(){return(new Date).getTime()},n=function e(n,o){var r=n;return Object.keys(o).forEach((function(n){var i=o[n],c=r[n],a=c&&"object"===t(c)&&!(c instanceof Array);r[n]=a?e(c,i):i})),r},o=function(o,r,i){var c={wait:50,multiplier:1.1,timeout:0};i&&(c=n(c,i));for(var a=c,s=a.multiplier,u=a.wait,l=c.timeout?new Date(e()+c.timeout):null,f=[],d=function n(i,c,a){if(l&&l&&e()>l)return!1;var u=function(e){if(!e)return!1;var n={function:function(){return e()},string:function(){return document.querySelector(e)}}[t(e)];return!n||n()}(i);u?(f.push(u),f.length===o.length&&r(f)):setTimeout((function(){n(i,c*s)}),a?0:c)},m=0;m<o.length;m+=1){if("string"!=typeof o[m]&&"function"!=typeof o[m])throw"Every item in the poller array should be a function or a string";d(o[m],u,!0)}},r={trackerName:!1,propertyId:!1,analyticsReference:"ga",eventCache:[],sendEvents:!0,setDefaultCategory:function(t){return this.category=t,this},setDefaultAction:function(t){return this.action=t,this},setPropertyId:function(t){this.propertyId=t},setTrackerName:function(t){this.trackerName=t},useLegacyTracker:function(){this.analyticsReference="_gaq"},sendAuto:function(t,e,n){this.send(null,null,e,n,t)},sendNormalised:function(t,e){this.send(null,null,t,e)},send:function(e,n,r,i){var c=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=i||{},u=r,l=e||this.category,f=n||this.action,d=a;if(null!=d&&(0==d&&(d="Control"),u="Variation: "+d+" - "+r),"object"===t(s)&&s.sendOnce){var m=""+l+f+u;if(this.eventCache.indexOf(m)>-1)return!1;this.eventCache.push(m)}var h=this,v=function(t){if("_gaq"===h.analyticsReference)window._gaq.push(["_trackEvent",l,f,u,null,void 0===s.nonInteraction||s.nonInteraction]);else{var e={nonInteraction:!s.nonInteraction||s.nonInteraction};if(s.opts)for(var n in s.opts)e[n]=s.opts[n];window[h.analyticsReference](t+".send","event",l,f,u,e)}};h.trackerName?1==this.sendEvents&&v(h.trackerName):o([function(){try{var t,e=null===(t=window[h.analyticsReference])||void 0===t?void 0:t.getAll();if(e&&e.length){if(!h.propertyId)return h.trackerName=e[0].get("name"),!0;for(var n=0;n<e.length;n+=1){var o=e[n];if(o.get("trackingId")===h.propertyId)return h.trackerName=o.get("name"),!0}}}catch(t){console.error(t)}}],(function(){1==c.sendEvents&&v(h.trackerName)}),{wait:150})}},i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.ID,i=e.VARIATION,c="Test ID: "+o+" Variation: "+i+" Label: "+t;r.sendNormalised(c,{sendOnce:n})};const c={ID:"AG105b",VARIATION:"control",CLIENT:"Brainlabs"};var a=c.ID,s=c.VARIATION,u=function(t){var e=t.isIntersecting,n=t.target;e&&!document.querySelector("."+a+"__seen")&&(n.classList.add(a+"__seen"),i("User scrolls to the end of the page",c))},l=function(){var t=document.querySelectorAll(".catalogue-cover");t.forEach((function(e,n){e.querySelector("div:last-child").classList.add(a+"__control-brocurebutton"),n+1===t.length&&e.classList.add(a+"__control-lastcard")})),document.getElementById("main_container").addEventListener("click",(function(t){var e=t.target;(e.matches("."+a+"__control-brocurebutton")||e.closest("."+a+"__control-brocurebutton"))&&i('user clicked "'+e.innerText+'"',c)}));var e,n,o,r=document.querySelector("."+a+"__control-lastcard");e=r,n=u,o=new IntersectionObserver((function(t){t.forEach((function(t){n(t)}))}),{threshold:.5}),e&&(null==o||o.observe(e))};/MSIE|Trident|Edge\/(12|13|14|15|16|17|18)/.test(window.navigator.userAgent)||o(["body",".catalogue-cover","#main_container","#logo_container"],(function(){window.location.pathname.includes(".html")||(function(t,e,n){var o=n.ID,i=n.VARIATION,c=n.LIVECODE;r.setDefaultCategory("Experimentation"),r.setDefaultAction(e),r.sendEvents="true"!=c,document.documentElement.classList.add(o),document.documentElement.classList.add(o+"-"+i)}(0,"AvonGlobal - "+a,c),i("Conditions Met",c),"control"!==s||setTimeout(l,2e3))}))})()})();